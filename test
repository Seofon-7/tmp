很好的問題——是的，如果只是單純使用 DevExpress 的 AllowCellMerge="True"，那麼只要 pr_sum 欄位的值相同，不管它來自哪一組（chp + layer），都會合併在一起，這不是你要的結果。

你的需求是這樣的：

你希望：
	•	只有在 chp 和 layer 都相同的資料列，才合併 pr_sum 欄位
	•	即使 pr_sum 數值一樣，只要 chp 或 layer 不同，也不能合併

解法：使用 ASPxGridView 的 CellMerge 事件來自訂合併邏輯

你可以在後端寫 CellMerge 事件，手動判斷是否允許合併某兩列的 pr_sum 欄位。

步驟如下：

1. 啟用合併功能：

<dx:ASPxGridView ID="ASPxGridView1" runat="server" AutoGenerateColumns="False"
    EnableRowsCache="False" KeyFieldName="ID" OnCellMerge="ASPxGridView1_CellMerge">
    <SettingsBehavior AllowCellMerge="True" />
    <Columns>
        <dx:GridViewDataTextColumn FieldName="chp" Caption="CHP" />
        <dx:GridViewDataTextColumn FieldName="layer" Caption="Layer" />
        <dx:GridViewDataTextColumn FieldName="pr" Caption="PR" />
        <dx:GridViewDataTextColumn FieldName="pr_sum" Caption="PR Sum">
            <Settings AllowCellMerge="True" />
        </dx:GridViewDataTextColumn>
    </Columns>
</dx:ASPxGridView>

2. 在後端處理 CellMerge 事件：

protected void ASPxGridView1_CellMerge(object sender, DevExpress.Web.ASPxGridViewTableCellMergeEventArgs e)
{
    if (e.Column.FieldName == "pr_sum")
    {
        // 拿出目前兩列的資料列物件
        var val1 = e.RowValues[0];
        var val2 = e.RowValues[1];

        // 檢查 chp 和 layer 是否都相同
        var chp1 = DataBinder.Eval(val1, "chp")?.ToString();
        var chp2 = DataBinder.Eval(val2, "chp")?.ToString();

        var layer1 = DataBinder.Eval(val1, "layer")?.ToString();
        var layer2 = DataBinder.Eval(val2, "layer")?.ToString();

        // 如果 chp 或 layer 不同，就不允許合併
        if (chp1 != chp2 || layer1 != layer2)
        {
            e.Handled = true; // 阻止合併
        }
    }
}

這樣就能保證：
	•	只有相同 chp + layer 的列，pr_sum 才會被合併
	•	即使其他不同組的 pr_sum 數值一樣，也不會合併

小補充
	•	e.Handled = true 表示你不讓系統自動合併。
	•	如果你想要加總的欄位顯示為小數點、格式化，也可以在 ASPxGridView 中用 PropertiesTextEdit-DisplayFormatString 去調整。

如果你願意貼你目前的資料結構（class 或 SQL）和 GridView 宣告，我可以幫你整理成完整範例。你要不要這樣做？